<Window x:Class="GroupeV.LoginWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        Title="GroupeV — Connexion" 
        MinHeight="600" MinWidth="420"
        Height="680" Width="500"
        Background="Transparent"
        WindowStartupLocation="CenterScreen"
        ResizeMode="NoResize"
        WindowStyle="None"
        AllowsTransparency="True"
        Loaded="Window_Loaded">

    <Window.Resources>
        <Storyboard x:Key="FadeInStoryboard">
            <DoubleAnimation Storyboard.TargetProperty="Opacity"
                             From="0" To="1" Duration="0:0:0.6">
                <DoubleAnimation.EasingFunction>
                    <CubicEase EasingMode="EaseOut"/>
                </DoubleAnimation.EasingFunction>
            </DoubleAnimation>
        </Storyboard>
    </Window.Resources>

    <!-- Outer neumorphic border -->
    <Border CornerRadius="28" Background="{StaticResource NeuBackgroundBrush}" Padding="0">
        <Border.Effect>
            <DropShadowEffect Color="{StaticResource NeuDarkShadow}" BlurRadius="40" ShadowDepth="12" Direction="315" Opacity="0.45"/>
        </Border.Effect>

        <Grid>
            <Grid.RowDefinitions>
                <RowDefinition Height="Auto"/>
                <RowDefinition Height="*"/>
                <RowDefinition Height="Auto"/>
            </Grid.RowDefinitions>

            <!-- HEADER -->
            <Border Grid.Row="0" Padding="32,36,32,20">
                <StackPanel HorizontalAlignment="Center">
                    <Border Style="{StaticResource NeuStatCard}" CornerRadius="28" Width="80" Height="80"
                            Padding="0" HorizontalAlignment="Center" Margin="0,0,0,20">
                        <TextBlock Text="€" FontSize="42" FontWeight="Bold" 
                                   Foreground="{StaticResource NeuAccentBrush}"
                                   HorizontalAlignment="Center" VerticalAlignment="Center"/>
                    </Border>

                    <TextBlock x:Name="TitleText" Text="Terminal Vendeur" 
                               FontFamily="{StaticResource NeuFontFamily}"
                               FontSize="28" FontWeight="Bold"
                               Foreground="{StaticResource NeuTextPrimaryBrush}" 
                               HorizontalAlignment="Center"/>

                    <TextBlock Text="Système de contrôle d'accès" 
                               FontFamily="{StaticResource NeuFontFamily}"
                               FontSize="13" Foreground="{StaticResource NeuTextSecondaryBrush}" 
                               HorizontalAlignment="Center" Margin="0,8,0,0"/>
                </StackPanel>
            </Border>

            <!-- MAIN CONTENT -->
            <Border Grid.Row="1" Padding="40,10,40,20">
                <StackPanel VerticalAlignment="Center">
                    <!-- Status Message -->
                    <Border Style="{StaticResource NeuCardInset}" Padding="14" Margin="0,0,0,24"
                            Visibility="Collapsed" x:Name="StatusBorder">
                        <TextBlock x:Name="StatusTextBlock" Text=""
                                   FontFamily="{StaticResource NeuFontFamily}" FontSize="12" 
                                   Foreground="{StaticResource NeuTextPrimaryBrush}"
                                   TextWrapping="Wrap" TextAlignment="Center" FontWeight="SemiBold"/>
                    </Border>

                    <!-- Email Field -->
                    <StackPanel x:Name="EmailPanel" RenderTransformOrigin="0.5,0.5" Margin="0,0,0,20">
                        <StackPanel.RenderTransform>
                            <TranslateTransform/>
                        </StackPanel.RenderTransform>
                        <TextBlock Text="Adresse email" 
                                   FontFamily="{StaticResource NeuFontFamily}" FontSize="13" 
                                   Foreground="{StaticResource NeuTextSecondaryBrush}" FontWeight="SemiBold"
                                   Margin="4,0,0,8"/>
                        <TextBox x:Name="EmailTextBox" Style="{StaticResource NeuTextBox}" MaxLength="255"/>
                    </StackPanel>

                    <!-- Password Field -->
                    <StackPanel x:Name="PasswordPanel" RenderTransformOrigin="0.5,0.5" Margin="0,0,0,28">
                        <StackPanel.RenderTransform>
                            <TranslateTransform/>
                        </StackPanel.RenderTransform>
                        <TextBlock Text="Mot de passe" 
                                   FontFamily="{StaticResource NeuFontFamily}" FontSize="13" 
                                   Foreground="{StaticResource NeuTextSecondaryBrush}" FontWeight="SemiBold"
                                   Margin="4,0,0,8"/>
                        <PasswordBox x:Name="PasswordBox" Style="{StaticResource NeuPasswordBox}" MaxLength="128"/>
                    </StackPanel>

                    <!-- Login Button -->
                    <Button x:Name="LoginButton" Content="Connexion" 
                            Style="{StaticResource NeuButtonAccent}"
                            Click="LoginButton_Click"
                            Height="50" FontSize="16"
                            Margin="0,0,0,16"
                            RenderTransformOrigin="0.5,0.5">
                        <Button.RenderTransform>
                            <TranslateTransform/>
                        </Button.RenderTransform>
                    </Button>
                </StackPanel>
            </Border>

            <!-- FOOTER -->
            <Border Grid.Row="2" Padding="24,14">
                <Grid>
                    <TextBlock Text="Base de données : vente_groupe" 
                               FontFamily="{StaticResource NeuMonoFont}" FontSize="11" 
                               Foreground="{StaticResource NeuTextSecondaryBrush}" VerticalAlignment="Center"/>
                    <Button Content="Fermer" HorizontalAlignment="Right"
                            Style="{StaticResource NeuButtonDanger}"
                            Click="CloseButton_Click" Padding="16,8" FontSize="12"/>
                </Grid>
            </Border>
        </Grid>
    </Border>
</Window>
